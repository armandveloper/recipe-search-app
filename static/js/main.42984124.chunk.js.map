{"version":3,"sources":["context/RecipeContext.tsx","components/Loader.tsx","animations/index.ts","router/AppRouter.tsx","styles/globalStyles.ts","App.tsx","reportWebVitals.ts","index.tsx"],"names":["RecipeContext","createContext","RecipeProvider","children","baseURL","apiKey","process","useState","recipes","setRecipes","recipe","setRecipe","isLoading","setLoading","error","setError","searchRecipes","q","a","fetch","encodeURI","resp","status","Error","json","data","results","length","message","getRecipe","useCallback","id","Provider","value","Loader","styled","div","center","spin","keyframes","fadeIn","slideInDown","fadeOut","slideOutUp","showAlert","css","hideAlert","HomePage","lazy","RecipePage","AppRouter","basename","fallback","path","exact","to","GlobalStyles","createGlobalStyle","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.42984124.chunk.js","sourcesContent":["import { createContext, ReactNode, useCallback, useState } from 'react';\nimport { RecipeResponse } from '../interfaces/recipe-response.interface';\nimport {\n\tSearchRecipes,\n\tRecipeResult,\n} from '../interfaces/search-recipes.interface';\n\ninterface RecipeContextInt {\n\trecipes: RecipeResult[];\n\trecipe: RecipeResponse;\n\tisLoading: boolean;\n\terror: string | null;\n\tsetError(value: string | null): void;\n\tsearchRecipes(q: string): void;\n\tgetRecipe(id: number): Promise<void>;\n}\n\nexport const RecipeContext = createContext<RecipeContextInt>(\n\t{} as RecipeContextInt\n);\n\nexport const RecipeProvider = ({ children }: { children: ReactNode }) => {\n\tconst baseURL = 'https://api.spoonacular.com';\n\tconst apiKey = process.env.REACT_APP_API_KEY;\n\n\tconst [recipes, setRecipes] = useState<RecipeResult[]>([]);\n\tconst [recipe, setRecipe] = useState<RecipeResponse>(null!);\n\n\tconst [isLoading, setLoading] = useState(false);\n\n\tconst [error, setError] = useState<string | null>(null);\n\n\tconst searchRecipes = async (q: string) => {\n\t\tsetLoading(true);\n\t\ttry {\n\t\t\tconst resp = await fetch(\n\t\t\t\t`${baseURL}/recipes/complexSearch?apiKey=${apiKey}&query=${encodeURI(\n\t\t\t\t\tq\n\t\t\t\t)}&number=12`\n\t\t\t);\n\n\t\t\t// Si ya se excedió el límite diario marca error\n\t\t\tif (resp.status === 402) {\n\t\t\t\tthrow new Error(\n\t\t\t\t\t'Sorry, the application does not allow any more queries. Please try again tomorrow'\n\t\t\t\t);\n\t\t\t}\n\t\t\tconst data: SearchRecipes = await resp.json();\n\t\t\tif (data.results.length === 0)\n\t\t\t\tthrow new Error('No results found for ' + q);\n\t\t\tsetRecipes(data.results);\n\t\t\tsetError(null);\n\t\t} catch (err) {\n\t\t\tsetError(err.message);\n\t\t} finally {\n\t\t\tsetLoading(false);\n\t\t}\n\t};\n\n\tconst getRecipe = useCallback(\n\t\tasync (id: number) => {\n\t\t\tsetLoading(true);\n\n\t\t\ttry {\n\t\t\t\tconst resp = await fetch(\n\t\t\t\t\t`${baseURL}/recipes/${id}/information?apiKey=${apiKey}`\n\t\t\t\t);\n\n\t\t\t\t// Si ya se excedió el límite diario marca error\n\t\t\t\tif (resp.status === 402) {\n\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t'Sorry, the application does not allow any more queries. Please try again tomorrow'\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tif (resp.status === 404) {\n\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t'The recipe was not found. Try with a valid recipe id'\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tconst data = await resp.json();\n\t\t\t\tsetRecipe(data);\n\t\t\t\tsetError(null);\n\t\t\t} catch (err) {\n\t\t\t\tsetError(err.message);\n\t\t\t} finally {\n\t\t\t\tsetLoading(false);\n\t\t\t}\n\t\t},\n\t\t[apiKey]\n\t);\n\n\treturn (\n\t\t<RecipeContext.Provider\n\t\t\tvalue={{\n\t\t\t\trecipes,\n\t\t\t\trecipe,\n\t\t\t\tisLoading,\n\t\t\t\terror,\n\t\t\t\tsetError,\n\t\t\t\tsearchRecipes,\n\t\t\t\tgetRecipe,\n\t\t\t}}\n\t\t>\n\t\t\t{children}\n\t\t</RecipeContext.Provider>\n\t);\n};\n","import styled from 'styled-components';\nimport { spin } from '../animations';\n\ninterface LoaderProps {\n\tcenter?: boolean;\n}\n\nconst Loader = styled.div<LoaderProps>`\n\tborder-top: 0.2rem solid #fff;\n\tborder-radius: 50%;\n\theight: 4rem;\n\tmargin: ${({ center }) => (center ? '0 auto' : null)};\n\twidth: 4rem;\n\tanimation: ${spin} 0.8s linear infinite;\n`;\n\nexport default Loader;\n","import { css, keyframes } from 'styled-components';\n\nexport const spin = keyframes`\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n`;\n\nexport const fadeIn = keyframes`\n  from {\n    opacity: 0;\n    visibility: hidden;\n  }\n  to {\n    opacity: 1;\n    visibility: visible;\n  }\n`;\n\nexport const slideInDown = keyframes`\n  from {\n    transform: translateY(-1rem);\n  }\n  to {\n    transform: translateY(0);\n\n  }\n`;\n\nexport const fadeOut = keyframes`\n  from {\n    opacity: 1;\n    visibility: visible;\n  }\n  to {\n    opacity: 0;\n    visibility: hidden;\n  }\n`;\n\nexport const slideOutUp = keyframes`\n  from {\n    transform: translateY(0);\n  }\n  to {\n    transform: translateY(-1rem);\n  }\n`;\n\nexport const showAlert = css`\n\tanimation: ${fadeIn} 0.3s ease-in, ${slideInDown} 0.3s 0.1s ease-in;\n`;\n\nexport const hideAlert = css`\n\tanimation: ${fadeOut} 0.3s ease-in, ${slideOutUp} 0.3s ease-in;\n`;\n","import { lazy, Suspense } from 'react';\nimport {\n\tBrowserRouter as Router,\n\tSwitch,\n\tRoute,\n\tRedirect,\n} from 'react-router-dom';\nimport Loader from '../components/Loader';\nconst HomePage = lazy(() => import('../pages/HomePage'));\nconst RecipePage = lazy(() => import('../pages/RecipePage'));\n\nfunction AppRouter() {\n\treturn (\n\t\t<Router basename=\"recipe-search-app\">\n\t\t\t<Suspense fallback={<Loader center={true} />}>\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route path=\"/\" exact={true}>\n\t\t\t\t\t\t<HomePage />\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route path=\"/recipes/:id\" exact={true}>\n\t\t\t\t\t\t<RecipePage />\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Redirect to=\"/\" />\n\t\t\t\t</Switch>\n\t\t\t</Suspense>\n\t\t</Router>\n\t);\n}\n\nexport default AppRouter;\n","import { createGlobalStyle } from 'styled-components';\n\nconst GlobalStyles = createGlobalStyle`\n  html {\n    box-sizing: border-box;\n    font-size: 62.5%;\n  }\n  *,\n  *::before,\n  *::after {\n    box-sizing: inherit;\n  }\n  body {\n    background-color: #48426d;\n    color: #fff;\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n    font-size: 1.6rem;\n    line-height: 1.5rem;\n    margin: 0;\n  }\n  ul {\n    list-style: none;\n    margin: 0;\n    padding: 0;\n  }\n  a {\n    text-decoration: none;\n  }\n  img {\n    max-width: 100%;\n    height: auto;\n    aspect-ratio: attr(width) / attr(height);\n  }\n`;\n\nexport default GlobalStyles;\n","import { RecipeProvider } from './context/RecipeContext';\nimport AppRouter from './router/AppRouter';\nimport GlobalStyles from './styles/globalStyles';\n\nfunction App() {\n\treturn (\n\t\t<RecipeProvider>\n\t\t\t<GlobalStyles />\n\t\t\t<AppRouter />\n\t\t</RecipeProvider>\n\t);\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}